class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      form: ''
    };
    this.handleFormState = this.handleFormState.bind(this);
  }

  componentDidMount() {
    this.setState({
      form: 'Checkout'
    });
  }

  handleFormState(destination) {
    this.setState({
      form: destination
    });
  }

  render() {
    const destination = this.state.form;
    let form;

    if (destination === 'Checkout') {
      form = /*#__PURE__*/React.createElement(Checkout, {
        nextForm: this.handleFormState
      });
    }

    ;

    if (destination === 'Form1') {
      form = /*#__PURE__*/React.createElement(Form1, {
        nextForm: this.handleFormState
      });
    }

    ;

    if (destination === 'Form2') {
      form = /*#__PURE__*/React.createElement(Form2, {
        nextForm: this.handleFormState
      });
    }

    ;

    if (destination === 'Form3') {
      form = /*#__PURE__*/React.createElement(Form3, {
        nextForm: this.handleFormState
      });
    }

    ;

    if (destination === 'Confirmation') {
      form = /*#__PURE__*/React.createElement(Confirmation, {
        nextForm: this.handleFormState
      });
    }

    ;
    return /*#__PURE__*/React.createElement("div", {
      className: "container"
    }, /*#__PURE__*/React.createElement("div", null, "Multistep Checkout"), form);
  }

}

class Checkout extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      nextForm: ''
    };
  }

  componentDidMount() {
    this.setState({
      nextForm: 'Form1'
    });
  }

  render() {
    return /*#__PURE__*/React.createElement("form", null, /*#__PURE__*/React.createElement("button", {
      className: "btn",
      id: "checkout",
      type: "button",
      onClick: e => this.props.nextForm(this.state.nextForm)
    }, "Checkout"));
  }

}

class Form1 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      form: null,
      account: {
        name: '',
        email: '',
        password: ''
      }
    };
  }

  componentDidMount() {
    this.setState({
      form: 'Form2'
    });
  }

  render() {
    return /*#__PURE__*/React.createElement("form", null, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", null, "name: "), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "name",
      id: "name",
      required: true
    })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", null, "email: "), /*#__PURE__*/React.createElement("input", {
      type: "email",
      name: "email",
      id: "email",
      required: true
    })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", null, "password: "), /*#__PURE__*/React.createElement("input", {
      type: "password",
      name: "password",
      id: "password",
      required: true
    })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("button", {
      className: "btn",
      id: "toForm2",
      type: "button",
      onClick: e => this.props.nextForm(this.state.form)
    }, "Next")));
  }

}

class Form2 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      form: this.props.nextForm
    };
  }

  render() {
    return /*#__PURE__*/React.createElement("button", {
      className: "btn",
      id: "next",
      type: "button",
      onClick: e => this.setState({
        form: /*#__PURE__*/React.createElement(Form3, {
          nextForm: this.state.form
        })
      })
    }, "Next");
  }

}

class Form3 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      form: this.props.nextForm
    };
  }

  render() {
    return /*#__PURE__*/React.createElement("button", {
      className: "btn",
      id: "next",
      type: "button",
      onClick: e => this.setState({
        form: /*#__PURE__*/React.createElement(Confirmation, {
          nextForm: this.state.form
        })
      })
    }, "Next");
  }

}

class Confirmation extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      form: this.props.nextForm
    };
  }

  render() {
    return /*#__PURE__*/React.createElement("button", {
      className: "btn",
      id: "next",
      type: "button",
      onClick: e => this.setState({
        form: /*#__PURE__*/React.createElement(Checkout, {
          nextForm: this.state.form
        })
      })
    }, "Purchase");
  }

}

ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIkFwcCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiZm9ybSIsImhhbmRsZUZvcm1TdGF0ZSIsImJpbmQiLCJjb21wb25lbnREaWRNb3VudCIsInNldFN0YXRlIiwiZGVzdGluYXRpb24iLCJyZW5kZXIiLCJDaGVja291dCIsIm5leHRGb3JtIiwiZSIsIkZvcm0xIiwiYWNjb3VudCIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiRm9ybTIiLCJGb3JtMyIsIkNvbmZpcm1hdGlvbiIsIlJlYWN0RE9NIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBTixTQUFrQkMsS0FBSyxDQUFDQyxTQUF4QixDQUFrQztBQUNoQ0MsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUFDQyxNQUFBQSxJQUFJLEVBQUU7QUFBUCxLQUFiO0FBRUEsU0FBS0MsZUFBTCxHQUF1QixLQUFLQSxlQUFMLENBQXFCQyxJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNEOztBQUVEQyxFQUFBQSxpQkFBaUIsR0FBRztBQUNsQixTQUFLQyxRQUFMLENBQWM7QUFBQ0osTUFBQUEsSUFBSSxFQUFFO0FBQVAsS0FBZDtBQUNEOztBQUVEQyxFQUFBQSxlQUFlLENBQUNJLFdBQUQsRUFBYztBQUMzQixTQUFLRCxRQUFMLENBQWM7QUFBQ0osTUFBQUEsSUFBSSxFQUFFSztBQUFQLEtBQWQ7QUFDRDs7QUFFREMsRUFBQUEsTUFBTSxHQUFHO0FBQ1AsVUFBTUQsV0FBVyxHQUFHLEtBQUtOLEtBQUwsQ0FBV0MsSUFBL0I7QUFDQSxRQUFJQSxJQUFKOztBQUNBLFFBQUlLLFdBQVcsS0FBSyxVQUFwQixFQUFnQztBQUFFTCxNQUFBQSxJQUFJLGdCQUFHLG9CQUFDLFFBQUQ7QUFB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Q1Asd0JBQ0U7QUFBUSxNQUFBLFNBQVMsRUFBQyxLQUFsQjtBQUF3QixNQUFBLEVBQUUsRUFBQyxNQUEzQjtBQUFrQyxNQUFBLElBQUksRUFBQyxRQUF2QztBQUFnRCxNQUFBLE9BQU8sRUFBR0csQ0FBRCxJQUFPLEtBQUtMLFFBQUwsQ0FBYztBQUFDSixRQUFBQSxJQUFJLGVBQUUsb0JBQUMsWUFBRDtBQUFjLFVBQUEsUUFBUSxFQUFFLEtBQUtELEtBQUwsQ0FBV0M7QUFBbkM7QUFBUCxPQUFkO0FBQWhFLGNBREY7QUFHRDs7QUFiaUM7O0FBZ0JwQyxNQUFNaUIsWUFBTixTQUEyQnRCLEtBQUssQ0FBQ0MsU0FBakMsQ0FBMkM7QUFDekNDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsSUFBSSxFQUFFLEtBQUtGLEtBQUwsQ0FBV1U7QUFETixLQUFiO0FBR0Q7O0FBR0RGLEVBQUFBLE1BQU0sR0FBRztBQUNQLHdCQUNFO0FBQVEsTUFBQSxTQUFTLEVBQUMsS0FBbEI7QUFBd0IsTUFBQSxFQUFFLEVBQUMsTUFBM0I7QUFBa0MsTUFBQSxJQUFJLEVBQUMsUUFBdkM7QUFBZ0QsTUFBQSxPQUFPLEVBQUdHLENBQUQsSUFBTyxLQUFLTCxRQUFMLENBQWM7QUFBQ0osUUFBQUEsSUFBSSxlQUFFLG9CQUFDLFFBQUQ7QUFBVSxVQUFBLFFBQVEsRUFBRSxLQUFLRCxLQUFMLENBQVdDO0FBQS9CO0FBQVAsT0FBZDtBQUFoRSxrQkFERjtBQUdEOztBQWJ3Qzs7QUFpQjNDa0IsUUFBUSxDQUFDWixNQUFULGVBQWdCLG9CQUFDLEdBQUQsT0FBaEIsRUFBeUJhLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixLQUF4QixDQUF6QiIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7Zm9ybTogJyd9O1xuXG4gICAgdGhpcy5oYW5kbGVGb3JtU3RhdGUgPSB0aGlzLmhhbmRsZUZvcm1TdGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7Zm9ybTogJ0NoZWNrb3V0J30pXG4gIH1cblxuICBoYW5kbGVGb3JtU3RhdGUoZGVzdGluYXRpb24pIHtcbiAgICB0aGlzLnNldFN0YXRlKHtmb3JtOiBkZXN0aW5hdGlvbn0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gdGhpcy5zdGF0ZS5mb3JtO1xuICAgIGxldCBmb3JtO1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gJ0NoZWNrb3V0JykgeyBmb3JtID0gPENoZWNrb3V0IG5leHRGb3JtPXt0aGlzLmhhbmRsZUZvcm1TdGF0ZX0gLz59O1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gJ0Zvcm0xJykgeyBmb3JtID0gPEZvcm0xIG5leHRGb3JtPXt0aGlzLmhhbmRsZUZvcm1TdGF0ZX0gLz59O1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gJ0Zvcm0yJykgeyBmb3JtID0gPEZvcm0yIG5leHRGb3JtPXt0aGlzLmhhbmRsZUZvcm1TdGF0ZX0gLz59O1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gJ0Zvcm0zJykgeyBmb3JtID0gPEZvcm0zIG5leHRGb3JtPXt0aGlzLmhhbmRsZUZvcm1TdGF0ZX0gLz59O1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gJ0NvbmZpcm1hdGlvbicpIHsgZm9ybSA9IDxDb25maXJtYXRpb24gbmV4dEZvcm09e3RoaXMuaGFuZGxlRm9ybVN0YXRlfSAvPn07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdj5NdWx0aXN0ZXAgQ2hlY2tvdXQ8L2Rpdj5cbiAgICAgICAge2Zvcm19XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuY2xhc3MgQ2hlY2tvdXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge25leHRGb3JtOiAnJ307XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtuZXh0Rm9ybTogJ0Zvcm0xJ30pXG4gIH1cblxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgIGlkPVwiY2hlY2tvdXRcIlxuICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gdGhpcy5wcm9wcy5uZXh0Rm9ybSh0aGlzLnN0YXRlLm5leHRGb3JtKX1cbiAgICAgICAgPkNoZWNrb3V0PC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIEZvcm0xIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZvcm06IG51bGwsXG4gICAgICBhY2NvdW50OiB7XG4gICAgICAgIG5hbWU6JycsXG4gICAgICAgIGVtYWlsOicnLFxuICAgICAgICBwYXNzd29yZDonJ1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtmb3JtOiAnRm9ybTInfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsID5uYW1lOiA8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIgaWQ9XCJuYW1lXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsID5lbWFpbDogPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgaWQ9XCJlbWFpbFwiIHJlcXVpcmVkIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCA+cGFzc3dvcmQ6IDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIGlkPVwicGFzc3dvcmRcIiByZXF1aXJlZCAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgaWQ9XCJ0b0Zvcm0yXCJcbiAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB0aGlzLnByb3BzLm5leHRGb3JtKHRoaXMuc3RhdGUuZm9ybSl9XG4gICAgICAgICAgPk5leHQ8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIEZvcm0yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZvcm06IHRoaXMucHJvcHMubmV4dEZvcm1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuXCIgaWQ9XCJuZXh0XCIgdHlwZT0nYnV0dG9uJyBvbkNsaWNrPXsoZSkgPT4gdGhpcy5zZXRTdGF0ZSh7Zm9ybTogPEZvcm0zIG5leHRGb3JtPXt0aGlzLnN0YXRlLmZvcm19Lz59KX0+TmV4dDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5jbGFzcyBGb3JtMyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBmb3JtOiB0aGlzLnByb3BzLm5leHRGb3JtXG4gICAgfVxuICB9XG5cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuXCIgaWQ9XCJuZXh0XCIgdHlwZT0nYnV0dG9uJyBvbkNsaWNrPXsoZSkgPT4gdGhpcy5zZXRTdGF0ZSh7Zm9ybTogPENvbmZpcm1hdGlvbiBuZXh0Rm9ybT17dGhpcy5zdGF0ZS5mb3JtfS8+fSl9Pk5leHQ8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuY2xhc3MgQ29uZmlybWF0aW9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZvcm06IHRoaXMucHJvcHMubmV4dEZvcm1cbiAgICB9XG4gIH1cblxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG5cIiBpZD1cIm5leHRcIiB0eXBlPSdidXR0b24nIG9uQ2xpY2s9eyhlKSA9PiB0aGlzLnNldFN0YXRlKHtmb3JtOiA8Q2hlY2tvdXQgbmV4dEZvcm09e3RoaXMuc3RhdGUuZm9ybX0vPn0pfT5QdXJjaGFzZTwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5cblJlYWN0RE9NLnJlbmRlcig8QXBwIC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpOyJdfQ==